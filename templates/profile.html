<!-- templates/profile.html -->
{% extends "base.html" %}

{% block title %}ä¸ªäººä¸­å¿ƒ - iNovel{% endblock %}

{% block content %}
<div style="max-width: 800px; margin: 40px auto; padding: 20px; font-family: Arial, sans-serif;">
  <h1><i class="fas fa-user"></i> ä¸ªäººä¸­å¿ƒ</h1>
  <p><strong>æ¬¢è¿ï¼š</strong>{{ username }}</p>

  <!-- æˆ‘çš„æ”¶è— -->
  <h3><i class="fas fa-heart"></i> æˆ‘çš„æ”¶è—</h3>
  {% if favorite_novels %}
    <ul style="list-style: none; padding: 0;">
      {% for novel in favorite_novels %}
        <li style="margin: 10px 0; padding: 10px; border-bottom: 1px solid #eee;">
          <a href="/detail/{{ novel.id }}" style="text-decoration: none; color: #0066cc;">
            <img src="{{ novel.cover }}" alt="å°é¢" style="width: 50px; height: 70px; object-fit: cover; margin-right: 10px; vertical-align: middle;">
            {{ novel.title }}
          </a>
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p>æš‚æ— æ”¶è—</p>
  {% endif %}

  <!-- ç»§ç»­é˜…è¯» -->
  <h3><i class="fas fa-book-reader"></i> ç»§ç»­é˜…è¯»</h3>
  {% if recent_novels %}
    <ul style="list-style: none; padding: 0;">
      {% for novel in recent_novels %}
        <li style="margin: 10px 0; padding: 10px; border-bottom: 1px solid #eee;">
          <a href="/read/{{ novel.id }}/1" style="text-decoration: none; color: #0066cc;">
            <img src="{{ novel.cover }}" alt="å°é¢" style="width: 50px; height: 70px; object-fit: cover; margin-right: 10px; vertical-align: middle;">
            {{ novel.title }}
          </a>
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p>æš‚æ— é˜…è¯»è®°å½•</p>
  {% endif %}

  <!-- ========== æˆ‘çš„è¯„è®º ========== -->
  <h3><i class="fas fa-comments"></i> æˆ‘çš„è¯„è®º</h3>
  {% if user_comments %}
    <ul style="list-style: none; padding: 0;">
      {% for comment in user_comments %}
        <li style="margin: 15px 0; padding: 12px; border: 1px solid #e0e0e0; border-radius: 8px; background: #f9f9f9;">
          <!-- è¯„è®ºæ ‡é¢˜è¡Œ -->
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 6px;">
            <a href="/detail/{{ comment.novel_id }}"
               style="font-weight: bold; color: #0066cc; text-decoration: none; font-size: 1.05rem;">
              ğŸ“š {{ comment.novel_title }}
            </a>
            <span style="font-size: 0.85rem; color: #666;">
              {% if comment.chapter_id %}
                ç¬¬ {{ comment.chapter_id }} ç« 
              {% else %}
                å°è¯´æ•´ä½“
              {% endif %}
            </span>
          </div>

          <!-- è¯„è®ºå†…å®¹ -->
          <p style="margin: 8px 0; font-size: 0.95rem; color: #333; line-height: 1.5;">
            {{ comment.content }}
          </p>

          <!-- è¯„è®ºæ—¶é—´ -->
          <small style="color: #999; font-size: 0.85rem;">
            {{ comment.timestamp }}
          </small>
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p>æš‚æ— è¯„è®º</p>
  {% endif %}
  <!-- ========== æˆ‘çš„è¯„è®ºç»“æŸ ========== -->

</div>
{% endblock %}