<!-- templates/ranking.html -->
{% extends "base.html" %}
{% block title %}iNovel - çƒ­é—¨æ’è¡Œæ¦œ{% endblock %}
{% block content %}

<main class="ranking-page">
  <h1 class="page-title">ğŸ† çƒ­é—¨å°è¯´æ’è¡Œæ¦œ</h1>
  <p class="desc">æ ¹æ®å¤šç§ç»´åº¦ç»Ÿè®¡ï¼Œå®æ—¶æ›´æ–°çƒ­é—¨æ¦œå•</p>

  <!-- é˜…è¯»äººæ°”æ¦œ -->
  <section class="rank-section">
    <h2 class="section-title">ğŸ”¥ é˜…è¯»äººæ°”æ¦œ</h2>
    <table class="rank-table">
      <thead>
        <tr>
          <th>æ’å</th>
          <th>å°é¢</th>
          <th>ä¹¦å</th>
          <th>ä½œè€…</th>
          <th>ç±»å‹</th>
          <th>é˜…è¯»é‡</th>
        </tr>
      </thead>
      <tbody>
        {% for novel in view_rank %}
        <tr>
          <td class="rank">{{ loop.index }}</td>
          <td><img src="{{ novel.cover }}" alt="{{ novel.title }}" class="cover-sm"></td>
          <td><a href="/detail/{{ novel.id }}" class="book-link">{{ novel.title }}</a></td>
          <td>{{ novel.author }}</td>
          <td>{{ novel.genre }}</td>
          <td>{{ "{:,}".format(novel.views) }}</td>
        </tr>
        {% else %}
        <tr><td colspan="6" class="no-data">æš‚æ— æ•°æ®</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </section>

  <!-- æœˆç¥¨æ¦œ -->
  <section class="rank-section">
    <h2 class="section-title">ğŸ—³ï¸ è¯»è€…æœˆç¥¨æ¦œ</h2>
    <table class="rank-table">
      <thead>
        <tr>
          <th>æ’å</th>
          <th>å°é¢</th>
          <th>ä¹¦å</th>
          <th>ä½œè€…</th>
          <th>ç±»å‹</th>
          <th>æœˆç¥¨æ•°</th>
        </tr>
      </thead>
      <tbody>
        {% for novel in vote_rank %}
        <tr>
          <td class="rank">{{ loop.index }}</td>
          <td><img src="{{ novel.cover }}" alt="{{ novel.title }}" class="cover-sm"></td>
          <td><a href="/detail/{{ novel.id }}" class="book-link">{{ novel.title }}</a></td>
          <td>{{ novel.author }}</td>
          <td>{{ novel.genre }}</td>
          <td>{{ "{:,}".format(novel.votes) }}</td>
        </tr>
        {% else %}
        <tr><td colspan="6" class="no-data">æš‚æ— æ•°æ®</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </section>

  <!-- æ”¶è—æ¦œ -->
  <section class="rank-section">
    <h2 class="section-title">â¤ï¸ ç”¨æˆ·æ”¶è—æ¦œ</h2>
    <table class="rank-table">
      <thead>
        <tr>
          <th>æ’å</th>
          <th>å°é¢</th>
          <th>ä¹¦å</th>
          <th>ä½œè€…</th>
          <th>ç±»å‹</th>
          <th>æ”¶è—æ•°</th>
        </tr>
      </thead>
      <tbody>
        {% for novel in fav_rank %}
        <tr>
          <td class="rank">{{ loop.index }}</td>
          <td><img src="{{ novel.cover }}" alt="{{ novel.title }}" class="cover-sm"></td>
          <td><a href="/detail/{{ novel.id }}" class="book-link">{{ novel.title }}</a></td>
          <td>{{ novel.author }}</td>
          <td>{{ novel.genre }}</td>
          <td>{{ "{:,}".format(novel.favorites) }}</td>
        </tr>
        {% else %}
        <tr><td colspan="6" class="no-data">æš‚æ— æ•°æ®</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </section>

  <!-- æ–°ä¹¦æ¦œ -->
  <section class="rank-section">
    <h2 class="section-title">ğŸ†• æ–°ä¹¦é€Ÿé€’æ¦œ</h2>
    <table class="rank-table">
      <thead>
        <tr>
          <th>æ’å</th>
          <th>å°é¢</th>
          <th>ä¹¦å</th>
          <th>ä½œè€…</th>
          <th>ç±»å‹</th>
          <th>æ›´æ–°æ—¶é—´</th>
        </tr>
      </thead>
      <tbody>
        {% for novel in new_rank %}
        <tr>
          <td class="rank">{{ loop.index }}</td>
          <td><img src="{{ novel.cover }}" alt="{{ novel.title }}" class="cover-sm"></td>
          <td><a href="/detail/{{ novel.id }}" class="book-link">{{ novel.title }}</a></td>
          <td>{{ novel.author }}</td>
          <td>{{ novel.genre }}</td>
          <td>{{ novel.updateTime }}</td>
        </tr>
        {% else %}
        <tr><td colspan="6" class="no-data">æš‚æ— æ•°æ®</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </section>
</main>

{% endblock %}